/**
 * @architect Mark Jivko <mark@socialdetox.ai>
 * @copyright Â© 2024 SocialDetox.ai https://socialdetox.ai
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{59372:function(t,e,r){!function(t){var e=t.Pos;function r(t,e){for(var r=0,n=t.length;r<n;++r)e(t[r])}function n(t,e){if(!Array.prototype.indexOf){for(var r=t.length;r--;)if(t[r]===e)return!0;return!1}return-1!=t.indexOf(e)}function i(r,n,i,o){var s=r.getCursor(),a=i(r,s);if(!/\b(?:string|comment)\b/.test(a.type)){var c=t.innerMode(r.getMode(),a.state);if("json"!==c.mode.helperType){a.state=c.state,/^[\w$_]*$/.test(a.string)?a.end>s.ch&&(a.end=s.ch,a.string=a.string.slice(0,s.ch-a.start)):a={start:s.ch,end:s.ch,string:"",state:a.state,type:"."==a.string?"property":null};for(var l=a;"property"==l.type;){if("."!=(l=i(r,e(s.line,l.start))).string)return;if(l=i(r,e(s.line,l.start)),!u)var u=[];u.push(l)}return{list:h(a,u,n,o),from:e(s.line,a.start),to:e(s.line,a.end)}}}}function o(t,e){return i(t,d,(function(t,e){return t.getTokenAt(e)}),e)}function s(t,e){var r=t.getTokenAt(e);return e.ch==r.start+1&&"."==r.string.charAt(0)?(r.end=r.start,r.string=".",r.type="property"):/^\.[\w$_]*$/.test(r.string)&&(r.type="property",r.start++,r.string=r.string.replace(/\./,"")),r}function a(t,e){return i(t,p,s,e)}t.registerHelper("hint","javascript",o),t.registerHelper("hint","coffeescript",a);var c="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),l="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),u="prototype apply call bind".split(" "),d="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),p="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ");function f(t,e){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var r=t;r;r=Object.getPrototypeOf(r))Object.getOwnPropertyNames(r).forEach(e);else for(var n in t)e(n)}function h(t,e,i,o){var s=[],a=t.string,d=o&&o.globalScope||window;function p(t){0!=t.lastIndexOf(a,0)||n(s,t)||s.push(t)}function h(t){"string"==typeof t?r(c,p):t instanceof Array?r(l,p):t instanceof Function&&r(u,p),f(t,p)}if(e&&e.length){var m,g=e.pop();for(g.type&&0===g.type.indexOf("variable")?(o&&o.additionalContext&&(m=o.additionalContext[g.string]),o&&!1===o.useGlobalScope||(m=m||d[g.string])):"string"==g.type?m="":"atom"==g.type?m=1:"function"==g.type&&(null==d.jQuery||"$"!=g.string&&"jQuery"!=g.string||"function"!=typeof d.jQuery?null!=d._&&"_"==g.string&&"function"==typeof d._&&(m=d._()):m=d.jQuery());null!=m&&e.length;)m=m[e.pop().string];null!=m&&h(m)}else{for(var v=t.state.localVars;v;v=v.next)p(v.name);for(var y=t.state.context;y;y=y.prev)for(v=y.vars;v;v=v.next)p(v.name);for(v=t.state.globalVars;v;v=v.next)p(v.name);if(o&&null!=o.additionalContext)for(var k in o.additionalContext)p(k);o&&!1===o.useGlobalScope||h(d),r(i,p)}return s}}(r(4631))},71707:function(t,e,r){!function(t){"use strict";var e="CodeMirror-hint",r="CodeMirror-hint-active";function n(t,e){if(this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var r=this;t.on("cursorActivity",this.activityFunc=function(){r.cursorActivity()})}}t.showHint=function(t,e,r){if(!e)return t.showHint(r);r&&r.async&&(e.async=!0);var n={hint:e};if(r)for(var i in r)n[i]=r[i];return t.showHint(n)},t.defineExtension("showHint",(function(e){e=s(this,this.getCursor("start"),e);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new n(this,e);o.options.hint&&(t.signal(this,"startCompletion",this),o.update(!0))}})),t.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var i=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function s(t,e,r){var n=t.options.hintOptions,i={};for(var o in h)i[o]=h[o];if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(t,e)),i}function a(t){return"string"==typeof t?t:t.text}function c(t,e){var r={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(1-e.menuSize(),!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close};/Mac/.test(navigator.platform)&&(r["Ctrl-P"]=function(){e.moveFocus(-1)},r["Ctrl-N"]=function(){e.moveFocus(1)});var n=t.options.customKeys,i=n?{}:r;function o(t,n){var o;o="string"!=typeof n?function(t){return n(t,e)}:r.hasOwnProperty(n)?r[n]:n,i[t]=o}if(n)for(var s in n)n.hasOwnProperty(s)&&o(s,n[s]);var a=t.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&o(s,a[s]);return i}function l(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function u(n,i){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=n,this.data=i,this.picked=!1;var o=this,s=n.cm,u=s.getInputField().ownerDocument,d=u.defaultView||u.parentWindow,p=this.hints=u.createElement("ul");p.setAttribute("role","listbox"),p.setAttribute("aria-expanded","true"),p.id=this.id;var f=n.cm.options.theme;p.className="CodeMirror-hints "+f,this.selectedHint=i.selectedHint||0;for(var h=i.list,m=0;m<h.length;++m){var g=p.appendChild(u.createElement("li")),v=h[m],y=e+(m!=this.selectedHint?"":" "+r);null!=v.className&&(y=v.className+" "+y),g.className=y,m==this.selectedHint&&g.setAttribute("aria-selected","true"),g.id=this.id+"-"+m,g.setAttribute("role","option"),v.render?v.render(g,i,v):g.appendChild(u.createTextNode(v.displayText||a(v))),g.hintId=m}var k=n.options.container||u.body,b=s.cursorCoords(n.options.alignWithWord?i.from:null),w=b.left,x=b.bottom,C=!0,O=0,A=0;if(k!==u.body){var M=-1!==["absolute","relative","fixed"].indexOf(d.getComputedStyle(k).position)?k:k.offsetParent,S=M.getBoundingClientRect(),D=u.body.getBoundingClientRect();O=S.left-D.left-M.scrollLeft,A=S.top-D.top-M.scrollTop}p.style.left=w-O+"px",p.style.top=x-A+"px";var j=d.innerWidth||Math.max(u.body.offsetWidth,u.documentElement.offsetWidth),H=d.innerHeight||Math.max(u.body.offsetHeight,u.documentElement.offsetHeight);k.appendChild(p),s.getInputField().setAttribute("aria-autocomplete","list"),s.getInputField().setAttribute("aria-owns",this.id),s.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var E,T=n.options.moveOnOverlap?p.getBoundingClientRect():new DOMRect,I=!!n.options.paddingForScrollbar&&p.scrollHeight>p.clientHeight+1;if(setTimeout((function(){E=s.getScrollInfo()})),T.bottom-H>0){var N=T.bottom-T.top,V=T.top-(b.bottom-b.top)-2;H-T.top<V?(N>V&&(p.style.height=(N=V)+"px"),p.style.top=(x=b.top-N)+A+"px",C=!1):p.style.height=H-T.top-2+"px"}var P,U=T.right-j;if(I&&(U+=s.display.nativeBarWidth),U>0&&(T.right-T.left>j&&(p.style.width=j-5+"px",U-=T.right-T.left-j),p.style.left=(w=Math.max(b.left-U-O,0))+"px"),I)for(var F=p.firstChild;F;F=F.nextSibling)F.style.paddingRight=s.display.nativeBarWidth+"px";s.addKeyMap(this.keyMap=c(n,{moveFocus:function(t,e){o.changeActive(o.selectedHint+t,e)},setFocus:function(t){o.changeActive(t)},menuSize:function(){return o.screenAmount()},length:h.length,close:function(){n.close()},pick:function(){o.pick()},data:i})),n.options.closeOnUnfocus&&(s.on("blur",this.onBlur=function(){P=setTimeout((function(){n.close()}),100)}),s.on("focus",this.onFocus=function(){clearTimeout(P)})),s.on("scroll",this.onScroll=function(){var t=s.getScrollInfo(),e=s.getWrapperElement().getBoundingClientRect();E||(E=s.getScrollInfo());var r=x+E.top-t.top,i=r-(d.pageYOffset||(u.documentElement||u.body).scrollTop);if(C||(i+=p.offsetHeight),i<=e.top||i>=e.bottom)return n.close();p.style.top=r+"px",p.style.left=w+E.left-t.left+"px"}),t.on(p,"dblclick",(function(t){var e=l(p,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),o.pick())})),t.on(p,"click",(function(t){var e=l(p,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),n.options.completeOnSingleClick&&o.pick())})),t.on(p,"mousedown",(function(){setTimeout((function(){s.focus()}),20)}));var _=this.getSelectedHintRange();return 0===_.from&&0===_.to||this.scrollToActive(),t.signal(i,"select",h[this.selectedHint],p.childNodes[this.selectedHint]),!0}function d(t,e){if(!t.somethingSelected())return e;for(var r=[],n=0;n<e.length;n++)e[n].supportsSelection&&r.push(e[n]);return r}function p(t,e,r,n){if(t.async)t(e,n,r);else{var i=t(e,r);i&&i.then?i.then(n):n(i)}}function f(e,r){var n,i=e.getHelpers(r,"hint");if(i.length){var o=function(t,e,r){var n=d(t,i);function o(i){if(i==n.length)return e(null);p(n[i],t,r,(function(t){t&&t.list.length>0?e(t):o(i+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:n})}:t.hint.anyword?function(e,r){return t.hint.anyword(e,r)}:function(){}}n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,r){var n=e.list[r],i=this;this.cm.operation((function(){n.hint?n.hint(i.cm,e,n):i.cm.replaceRange(a(n),n.from||e.from,n.to||e.to,"complete"),t.signal(e,"pick",n),i.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var t=this.startPos;this.data&&(t=this.data.from);var e=this.cm.getCursor(),r=this.cm.getLine(e.line);if(e.line!=this.startPos.line||r.length-e.ch!=this.startLen-this.startPos.ch||e.ch<t.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(r.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=i((function(){n.update()})),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,r=++this.tick;p(this.options.hint,this.cm,this.options,(function(n){e.tick==r&&e.finishUpdate(n,t)}))}},finishUpdate:function(e,r){this.data&&t.signal(this.data,"update");var n=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(n&&1==e.list.length?this.pick(e,0):(this.widget=new u(this,e),t.signal(e,"shown")))}},u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm.getInputField();t.removeAttribute("aria-activedescendant"),t.removeAttribute("aria-owns");var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,n){if(e>=this.data.list.length?e=n?this.data.list.length-1:0:e<0&&(e=n?0:this.data.list.length-1),this.selectedHint!=e){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+r,""),i.removeAttribute("aria-selected")),(i=this.hints.childNodes[this.selectedHint=e]).className+=" "+r,i.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",i.id),this.scrollToActive(),t.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var t=this.getSelectedHintRange(),e=this.hints.childNodes[t.from],r=this.hints.childNodes[t.to],n=this.hints.firstChild;e.offsetTop<this.hints.scrollTop?this.hints.scrollTop=e.offsetTop-n.offsetTop:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+n.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var t=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-t),to:Math.min(this.data.list.length-1,this.selectedHint+t)}}},t.registerHelper("hint","auto",{resolve:f}),t.registerHelper("hint","fromList",(function(e,r){var n,i=e.getCursor(),o=e.getTokenAt(i),s=t.Pos(i.line,o.start),a=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?n=o.string.substr(0,i.ch-o.start):(n="",s=i);for(var c=[],l=0;l<r.words.length;l++){var u=r.words[l];u.slice(0,n.length)==n&&c.push(u)}if(c.length)return{list:c,from:s,to:a}})),t.commands.autocomplete=t.showHint;var h={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};t.defineOption("hintOptions",null)}(r(4631))},96876:function(t,e,r){!function(t){"use strict";t.defineMode("javascript",(function(e,r){var n,i,o=e.indentUnit,s=r.statementIndent,a=r.jsonld,c=r.json||a,l=!1!==r.trackScope,u=r.typescript,d=r.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),r=t("keyword b"),n=t("keyword c"),i=t("keyword d"),o=t("operator"),s={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:t("new"),delete:n,void:n,throw:n,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:t("this"),class:t("class"),super:t("atom"),yield:n,export:t("export"),import:t("import"),extends:n,await:n}}(),f=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(t){for(var e,r=!1,n=!1;null!=(e=t.next());){if(!r){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}r=!r&&"\\"==e}}function g(t,e,r){return n=t,i=r,e}function v(t,e){var r=t.next();if('"'==r||"'"==r)return e.tokenize=y(r),e.tokenize(t,e);if("."==r&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return g("number","number");if("."==r&&t.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return g(r);if("="==r&&t.eat(">"))return g("=>","operator");if("0"==r&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return g("number","number");if(/\d/.test(r))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),g("number","number");if("/"==r)return t.eat("*")?(e.tokenize=k,k(t,e)):t.eat("/")?(t.skipToEnd(),g("comment","comment")):ie(t,e,1)?(m(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),g("regexp","string-2")):(t.eat("="),g("operator","operator",t.current()));if("`"==r)return e.tokenize=b,b(t,e);if("#"==r&&"!"==t.peek())return t.skipToEnd(),g("meta","meta");if("#"==r&&t.eatWhile(d))return g("variable","property");if("<"==r&&t.match("!--")||"-"==r&&t.match("->")&&!/\S/.test(t.string.slice(0,t.start)))return t.skipToEnd(),g("comment","comment");if(f.test(r))return">"==r&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=r&&"="!=r||t.eat("="):/[<>*+\-|&?]/.test(r)&&(t.eat(r),">"==r&&t.eat(r))),"?"==r&&t.eat(".")?g("."):g("operator","operator",t.current());if(d.test(r)){t.eatWhile(d);var n=t.current();if("."!=e.lastType){if(p.propertyIsEnumerable(n)){var i=p[n];return g(i.type,i.style,n)}if("async"==n&&t.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return g("async","keyword",n)}return g("variable","variable",n)}}function y(t){return function(e,r){var n,i=!1;if(a&&"@"==e.peek()&&e.match(h))return r.tokenize=v,g("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||i);)i=!i&&"\\"==n;return i||(r.tokenize=v),g("string","string")}}function k(t,e){for(var r,n=!1;r=t.next();){if("/"==r&&n){e.tokenize=v;break}n="*"==r}return g("comment","comment")}function b(t,e){for(var r,n=!1;null!=(r=t.next());){if(!n&&("`"==r||"$"==r&&t.eat("{"))){e.tokenize=v;break}n=!n&&"\\"==r}return g("quasi","string-2",t.current())}var w="([{}])";function x(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var r=t.string.indexOf("=>",t.start);if(!(r<0)){if(u){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,r));n&&(r=n.index)}for(var i=0,o=!1,s=r-1;s>=0;--s){var a=t.string.charAt(s),c=w.indexOf(a);if(c>=0&&c<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(c>=3&&c<6)++i;else if(d.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(t.string.charAt(s-1)==a&&"\\"!=t.string.charAt(s-2)){s--;break}}else if(o&&!i){++s;break}}o&&!i&&(e.fatArrowAt=s)}}var C={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function O(t,e,r,n,i,o){this.indented=t,this.column=e,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function A(t,e){if(!l)return!1;for(var r=t.localVars;r;r=r.next)if(r.name==e)return!0;for(var n=t.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==e)return!0}function M(t,e,r,n,i){var o=t.cc;for(S.state=t,S.stream=i,S.marked=null,S.cc=o,S.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((o.length?o.pop():c?K:W)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return S.marked?S.marked:"variable"==r&&A(t,n)?"variable-2":e}}var S={state:null,column:null,marked:null,cc:null};function D(){for(var t=arguments.length-1;t>=0;t--)S.cc.push(arguments[t])}function j(){return D.apply(null,arguments),!0}function H(t,e){for(var r=e;r;r=r.next)if(r.name==t)return!0;return!1}function E(t){var e=S.state;if(S.marked="def",l){if(e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var n=T(t,e.context);if(null!=n)return void(e.context=n)}else if(!H(t,e.localVars))return void(e.localVars=new V(t,e.localVars));r.globalVars&&!H(t,e.globalVars)&&(e.globalVars=new V(t,e.globalVars))}}function T(t,e){if(e){if(e.block){var r=T(t,e.prev);return r?r==e.prev?e:new N(r,e.vars,!0):null}return H(t,e.vars)?e:new N(e.prev,new V(t,e.vars),!1)}return null}function I(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function N(t,e,r){this.prev=t,this.vars=e,this.block=r}function V(t,e){this.name=t,this.next=e}var P=new V("this",new V("arguments",null));function U(){S.state.context=new N(S.state.context,S.state.localVars,!1),S.state.localVars=P}function F(){S.state.context=new N(S.state.context,S.state.localVars,!0),S.state.localVars=null}function _(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function R(t,e){var r=function(){var r=S.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new O(n,S.stream.column(),t,null,r.lexical,e)};return r.lex=!0,r}function L(){var t=S.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function z(t){function e(r){return r==t?j():";"==t||"}"==r||")"==r||"]"==r?D():j(e)}return e}function W(t,e){return"var"==t?j(R("vardef",e),Dt,z(";"),L):"keyword a"==t?j(R("form"),q,W,L):"keyword b"==t?j(R("form"),W,L):"keyword d"==t?S.stream.match(/^\s*$/,!1)?j():j(R("stat"),Q,z(";"),L):"debugger"==t?j(z(";")):"{"==t?j(R("}"),F,pt,L,_):";"==t?j():"if"==t?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==L&&S.state.cc.pop()(),j(R("form"),q,W,L,Nt)):"function"==t?j(Ft):"for"==t?j(R("form"),F,Vt,W,_,L):"class"==t||u&&"interface"==e?(S.marked="keyword",j(R("form","class"==t?t:e),Wt,L)):"variable"==t?u&&"declare"==e?(S.marked="keyword",j(W)):u&&("module"==e||"enum"==e||"type"==e)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==e?j(ee):"type"==e?j(Rt,z("operator"),vt,z(";")):j(R("form"),jt,z("{"),R("}"),pt,L,L)):u&&"namespace"==e?(S.marked="keyword",j(R("form"),K,W,L)):u&&"abstract"==e?(S.marked="keyword",j(W)):j(R("stat"),ot):"switch"==t?j(R("form"),q,z("{"),R("}","switch"),F,pt,L,L,_):"case"==t?j(K,z(":")):"default"==t?j(z(":")):"catch"==t?j(R("form"),U,B,W,L,_):"export"==t?j(R("stat"),qt,L):"import"==t?j(R("stat"),Qt,L):"async"==t?j(W):"@"==e?j(K,W):D(R("stat"),K,z(";"),L)}function B(t){if("("==t)return j(Lt,z(")"))}function K(t,e){return G(t,e,!1)}function $(t,e){return G(t,e,!0)}function q(t){return"("!=t?D():j(R(")"),Q,z(")"),L)}function G(t,e,r){if(S.state.fatArrowAt==S.stream.start){var n=r?et:tt;if("("==t)return j(U,R(")"),ut(Lt,")"),L,z("=>"),n,_);if("variable"==t)return D(U,jt,z("=>"),n,_)}var i=r?J:Y;return C.hasOwnProperty(t)?j(i):"function"==t?j(Ft,i):"class"==t||u&&"interface"==e?(S.marked="keyword",j(R("form"),zt,L)):"keyword c"==t||"async"==t?j(r?$:K):"("==t?j(R(")"),Q,z(")"),L,i):"operator"==t||"spread"==t?j(r?$:K):"["==t?j(R("]"),te,L,i):"{"==t?dt(at,"}",null,i):"quasi"==t?D(X,i):"new"==t?j(rt(r)):j()}function Q(t){return t.match(/[;\}\)\],]/)?D():D(K)}function Y(t,e){return","==t?j(Q):J(t,e,!1)}function J(t,e,r){var n=0==r?Y:J,i=0==r?K:$;return"=>"==t?j(U,r?et:tt,_):"operator"==t?/\+\+|--/.test(e)||u&&"!"==e?j(n):u&&"<"==e&&S.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?j(R(">"),ut(vt,">"),L,n):"?"==e?j(K,z(":"),i):j(i):"quasi"==t?D(X,n):";"!=t?"("==t?dt($,")","call",n):"."==t?j(st,n):"["==t?j(R("]"),Q,z("]"),L,n):u&&"as"==e?(S.marked="keyword",j(vt,n)):"regexp"==t?(S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),j(i)):void 0:void 0}function X(t,e){return"quasi"!=t?D():"${"!=e.slice(e.length-2)?j(X):j(Q,Z)}function Z(t){if("}"==t)return S.marked="string-2",S.state.tokenize=b,j(X)}function tt(t){return x(S.stream,S.state),D("{"==t?W:K)}function et(t){return x(S.stream,S.state),D("{"==t?W:$)}function rt(t){return function(e){return"."==e?j(t?it:nt):"variable"==e&&u?j(At,t?J:Y):D(t?$:K)}}function nt(t,e){if("target"==e)return S.marked="keyword",j(Y)}function it(t,e){if("target"==e)return S.marked="keyword",j(J)}function ot(t){return":"==t?j(L,W):D(Y,z(";"),L)}function st(t){if("variable"==t)return S.marked="property",j()}function at(t,e){return"async"==t?(S.marked="property",j(at)):"variable"==t||"keyword"==S.style?(S.marked="property","get"==e||"set"==e?j(ct):(u&&S.state.fatArrowAt==S.stream.start&&(r=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+r[0].length),j(lt))):"number"==t||"string"==t?(S.marked=a?"property":S.style+" property",j(lt)):"jsonld-keyword"==t?j(lt):u&&I(e)?(S.marked="keyword",j(at)):"["==t?j(K,ft,z("]"),lt):"spread"==t?j($,lt):"*"==e?(S.marked="keyword",j(at)):":"==t?D(lt):void 0;var r}function ct(t){return"variable"!=t?D(lt):(S.marked="property",j(Ft))}function lt(t){return":"==t?j($):"("==t?D(Ft):void 0}function ut(t,e,r){function n(i,o){if(r?r.indexOf(i)>-1:","==i){var s=S.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),j((function(r,n){return r==e||n==e?D():D(t)}),n)}return i==e||o==e?j():r&&r.indexOf(";")>-1?D(t):j(z(e))}return function(r,i){return r==e||i==e?j():D(t,n)}}function dt(t,e,r){for(var n=3;n<arguments.length;n++)S.cc.push(arguments[n]);return j(R(e,r),ut(t,e),L)}function pt(t){return"}"==t?j():D(W,pt)}function ft(t,e){if(u){if(":"==t)return j(vt);if("?"==e)return j(ft)}}function ht(t,e){if(u&&(":"==t||"in"==e))return j(vt)}function mt(t){if(u&&":"==t)return S.stream.match(/^\s*\w+\s+is\b/,!1)?j(K,gt,vt):j(vt)}function gt(t,e){if("is"==e)return S.marked="keyword",j()}function vt(t,e){return"keyof"==e||"typeof"==e||"infer"==e||"readonly"==e?(S.marked="keyword",j("typeof"==e?$:vt)):"variable"==t||"void"==e?(S.marked="type",j(Ot)):"|"==e||"&"==e?j(vt):"string"==t||"number"==t||"atom"==t?j(Ot):"["==t?j(R("]"),ut(vt,"]",","),L,Ot):"{"==t?j(R("}"),kt,L,Ot):"("==t?j(ut(Ct,")"),yt,Ot):"<"==t?j(ut(vt,">"),vt):"quasi"==t?D(wt,Ot):void 0}function yt(t){if("=>"==t)return j(vt)}function kt(t){return t.match(/[\}\)\]]/)?j():","==t||";"==t?j(kt):D(bt,kt)}function bt(t,e){return"variable"==t||"keyword"==S.style?(S.marked="property",j(bt)):"?"==e||"number"==t||"string"==t?j(bt):":"==t?j(vt):"["==t?j(z("variable"),ht,z("]"),bt):"("==t?D(_t,bt):t.match(/[;\}\)\],]/)?void 0:j()}function wt(t,e){return"quasi"!=t?D():"${"!=e.slice(e.length-2)?j(wt):j(vt,xt)}function xt(t){if("}"==t)return S.marked="string-2",S.state.tokenize=b,j(wt)}function Ct(t,e){return"variable"==t&&S.stream.match(/^\s*[?:]/,!1)||"?"==e?j(Ct):":"==t?j(vt):"spread"==t?j(Ct):D(vt)}function Ot(t,e){return"<"==e?j(R(">"),ut(vt,">"),L,Ot):"|"==e||"."==t||"&"==e?j(vt):"["==t?j(vt,z("]"),Ot):"extends"==e||"implements"==e?(S.marked="keyword",j(vt)):"?"==e?j(vt,z(":"),vt):void 0}function At(t,e){if("<"==e)return j(R(">"),ut(vt,">"),L,Ot)}function Mt(){return D(vt,St)}function St(t,e){if("="==e)return j(vt)}function Dt(t,e){return"enum"==e?(S.marked="keyword",j(ee)):D(jt,ft,Tt,It)}function jt(t,e){return u&&I(e)?(S.marked="keyword",j(jt)):"variable"==t?(E(e),j()):"spread"==t?j(jt):"["==t?dt(Et,"]"):"{"==t?dt(Ht,"}"):void 0}function Ht(t,e){return"variable"!=t||S.stream.match(/^\s*:/,!1)?("variable"==t&&(S.marked="property"),"spread"==t?j(jt):"}"==t?D():"["==t?j(K,z("]"),z(":"),Ht):j(z(":"),jt,Tt)):(E(e),j(Tt))}function Et(){return D(jt,Tt)}function Tt(t,e){if("="==e)return j($)}function It(t){if(","==t)return j(Dt)}function Nt(t,e){if("keyword b"==t&&"else"==e)return j(R("form","else"),W,L)}function Vt(t,e){return"await"==e?j(Vt):"("==t?j(R(")"),Pt,L):void 0}function Pt(t){return"var"==t?j(Dt,Ut):"variable"==t?j(Ut):D(Ut)}function Ut(t,e){return")"==t?j():";"==t?j(Ut):"in"==e||"of"==e?(S.marked="keyword",j(K,Ut)):D(K,Ut)}function Ft(t,e){return"*"==e?(S.marked="keyword",j(Ft)):"variable"==t?(E(e),j(Ft)):"("==t?j(U,R(")"),ut(Lt,")"),L,mt,W,_):u&&"<"==e?j(R(">"),ut(Mt,">"),L,Ft):void 0}function _t(t,e){return"*"==e?(S.marked="keyword",j(_t)):"variable"==t?(E(e),j(_t)):"("==t?j(U,R(")"),ut(Lt,")"),L,mt,_):u&&"<"==e?j(R(">"),ut(Mt,">"),L,_t):void 0}function Rt(t,e){return"keyword"==t||"variable"==t?(S.marked="type",j(Rt)):"<"==e?j(R(">"),ut(Mt,">"),L):void 0}function Lt(t,e){return"@"==e&&j(K,Lt),"spread"==t?j(Lt):u&&I(e)?(S.marked="keyword",j(Lt)):u&&"this"==t?j(ft,Tt):D(jt,ft,Tt)}function zt(t,e){return"variable"==t?Wt(t,e):Bt(t,e)}function Wt(t,e){if("variable"==t)return E(e),j(Bt)}function Bt(t,e){return"<"==e?j(R(">"),ut(Mt,">"),L,Bt):"extends"==e||"implements"==e||u&&","==t?("implements"==e&&(S.marked="keyword"),j(u?vt:K,Bt)):"{"==t?j(R("}"),Kt,L):void 0}function Kt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||u&&I(e))&&S.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",j(Kt)):"variable"==t||"keyword"==S.style?(S.marked="property",j($t,Kt)):"number"==t||"string"==t?j($t,Kt):"["==t?j(K,ft,z("]"),$t,Kt):"*"==e?(S.marked="keyword",j(Kt)):u&&"("==t?D(_t,Kt):";"==t||","==t?j(Kt):"}"==t?j():"@"==e?j(K,Kt):void 0}function $t(t,e){if("!"==e)return j($t);if("?"==e)return j($t);if(":"==t)return j(vt,Tt);if("="==e)return j($);var r=S.state.lexical.prev;return D(r&&"interface"==r.info?_t:Ft)}function qt(t,e){return"*"==e?(S.marked="keyword",j(Zt,z(";"))):"default"==e?(S.marked="keyword",j(K,z(";"))):"{"==t?j(ut(Gt,"}"),Zt,z(";")):D(W)}function Gt(t,e){return"as"==e?(S.marked="keyword",j(z("variable"))):"variable"==t?D($,Gt):void 0}function Qt(t){return"string"==t?j():"("==t?D(K):"."==t?D(Y):D(Yt,Jt,Zt)}function Yt(t,e){return"{"==t?dt(Yt,"}"):("variable"==t&&E(e),"*"==e&&(S.marked="keyword"),j(Xt))}function Jt(t){if(","==t)return j(Yt,Jt)}function Xt(t,e){if("as"==e)return S.marked="keyword",j(Yt)}function Zt(t,e){if("from"==e)return S.marked="keyword",j(K)}function te(t){return"]"==t?j():D(ut($,"]"))}function ee(){return D(R("form"),jt,z("{"),R("}"),ut(re,"}"),L,L)}function re(){return D(jt,Tt)}function ne(t,e){return"operator"==t.lastType||","==t.lastType||f.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}function ie(t,e,r){return e.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(r||0)))}return U.lex=F.lex=!0,_.lex=!0,L.lex=!0,{startState:function(t){var e={tokenize:v,lastType:"sof",cc:[],lexical:new O((t||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new N(null,null,!1),indented:t||0};return r.globalVars&&"object"==typeof r.globalVars&&(e.globalVars=r.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),x(t,e)),e.tokenize!=k&&t.eatSpace())return null;var r=e.tokenize(t,e);return"comment"==n?r:(e.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",M(e,r,n,i,t))},indent:function(e,n){if(e.tokenize==k||e.tokenize==b)return t.Pass;if(e.tokenize!=v)return 0;var i,a=n&&n.charAt(0),c=e.lexical;if(!/^\s*else\b/.test(n))for(var l=e.cc.length-1;l>=0;--l){var u=e.cc[l];if(u==L)c=c.prev;else if(u!=Nt&&u!=_)break}for(;("stat"==c.type||"form"==c.type)&&("}"==a||(i=e.cc[e.cc.length-1])&&(i==Y||i==J)&&!/^[,\.=+\-*:?[\(]/.test(n));)c=c.prev;s&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev);var d=c.type,p=a==d;return"vardef"==d?c.indented+("operator"==e.lastType||","==e.lastType?c.info.length+1:0):"form"==d&&"{"==a?c.indented:"form"==d?c.indented+o:"stat"==d?c.indented+(ne(e,n)?s||o:0):"switch"!=c.info||p||0==r.doubleIndentSwitch?c.align?c.column+(p?0:1):c.indented+(p?0:o):c.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:a,jsonMode:c,expressionAllowed:ie,skipExpression:function(e){M(e,"atom","atom","true",new t.StringStream("",2,null))}}})),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(4631))},29656:function(t,e,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.fk=void 0;var s,a=r(67294),c="undefined"===typeof navigator||"undefined"!==typeof r.g&&!0===r.g.PREVENT_CODEMIRROR_RENDER;c||(s=r(4631));var l=function(){function t(){}return t.equals=function(t,e){var r=this,n=Object.keys,o=i(t),s=i(e);return t&&e&&"object"===o&&o===s?n(t).length===n(e).length&&n(t).every((function(n){return r.equals(t[n],e[n])})):t===e},t}(),u=function(){function t(t,e){this.editor=t,this.props=e}return t.prototype.delegateCursor=function(t,e,r){var n=this.editor.getDoc();r&&this.editor.focus(),e?n.setCursor(t):n.setCursor(t,null,{scroll:!1})},t.prototype.delegateScroll=function(t){this.editor.scrollTo(t.x,t.y)},t.prototype.delegateSelection=function(t,e){this.editor.getDoc().setSelections(t),e&&this.editor.focus()},t.prototype.apply=function(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)},t.prototype.applyNext=function(t,e,r){t&&t.selection&&t.selection.ranges&&e&&e.selection&&e.selection.ranges&&!l.equals(t.selection.ranges,e.selection.ranges)&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),t&&t.cursor&&e&&e.cursor&&!l.equals(t.cursor,e.cursor)&&this.delegateCursor(r.cursor||e.cursor,e.autoScroll||!1,e.autoCursor||!1),t&&t.scroll&&e&&e.scroll&&!l.equals(t.scroll,e.scroll)&&this.delegateScroll(e.scroll)},t.prototype.applyUserDefined=function(t,e){e&&e.cursor&&this.delegateCursor(e.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)},t.prototype.wire=function(t){var e=this;Object.keys(t||{}).filter((function(t){return/^on/.test(t)})).forEach((function(t){switch(t){case"onBlur":e.editor.on("blur",(function(t,r){e.props.onBlur(e.editor,r)}));break;case"onContextMenu":e.editor.on("contextmenu",(function(t,r){e.props.onContextMenu(e.editor,r)}));break;case"onCopy":e.editor.on("copy",(function(t,r){e.props.onCopy(e.editor,r)}));break;case"onCursor":e.editor.on("cursorActivity",(function(t){e.props.onCursor(e.editor,e.editor.getDoc().getCursor())}));break;case"onCursorActivity":e.editor.on("cursorActivity",(function(t){e.props.onCursorActivity(e.editor)}));break;case"onCut":e.editor.on("cut",(function(t,r){e.props.onCut(e.editor,r)}));break;case"onDblClick":e.editor.on("dblclick",(function(t,r){e.props.onDblClick(e.editor,r)}));break;case"onDragEnter":e.editor.on("dragenter",(function(t,r){e.props.onDragEnter(e.editor,r)}));break;case"onDragLeave":e.editor.on("dragleave",(function(t,r){e.props.onDragLeave(e.editor,r)}));break;case"onDragOver":e.editor.on("dragover",(function(t,r){e.props.onDragOver(e.editor,r)}));break;case"onDragStart":e.editor.on("dragstart",(function(t,r){e.props.onDragStart(e.editor,r)}));break;case"onDrop":e.editor.on("drop",(function(t,r){e.props.onDrop(e.editor,r)}));break;case"onFocus":e.editor.on("focus",(function(t,r){e.props.onFocus(e.editor,r)}));break;case"onGutterClick":e.editor.on("gutterClick",(function(t,r,n,i){e.props.onGutterClick(e.editor,r,n,i)}));break;case"onInputRead":e.editor.on("inputRead",(function(t,r){e.props.onInputRead(e.editor,r)}));break;case"onKeyDown":e.editor.on("keydown",(function(t,r){e.props.onKeyDown(e.editor,r)}));break;case"onKeyHandled":e.editor.on("keyHandled",(function(t,r,n){e.props.onKeyHandled(e.editor,r,n)}));break;case"onKeyPress":e.editor.on("keypress",(function(t,r){e.props.onKeyPress(e.editor,r)}));break;case"onKeyUp":e.editor.on("keyup",(function(t,r){e.props.onKeyUp(e.editor,r)}));break;case"onMouseDown":e.editor.on("mousedown",(function(t,r){e.props.onMouseDown(e.editor,r)}));break;case"onPaste":e.editor.on("paste",(function(t,r){e.props.onPaste(e.editor,r)}));break;case"onRenderLine":e.editor.on("renderLine",(function(t,r,n){e.props.onRenderLine(e.editor,r,n)}));break;case"onScroll":e.editor.on("scroll",(function(t){e.props.onScroll(e.editor,e.editor.getScrollInfo())}));break;case"onSelection":e.editor.on("beforeSelectionChange",(function(t,r){e.props.onSelection(e.editor,r)}));break;case"onTouchStart":e.editor.on("touchstart",(function(t,r){e.props.onTouchStart(e.editor,r)}));break;case"onUpdate":e.editor.on("update",(function(t){e.props.onUpdate(e.editor)}));break;case"onViewportChange":e.editor.on("viewportChange",(function(t,r,n){e.props.onViewportChange(e.editor,r,n)}))}}))},t}(),d=function(t){function e(e){var r=t.call(this,e)||this;return c||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return o(e,t),e.prototype.hydrate=function(t){var e=this,r=t&&t.options?t.options:{},i=n({},s.defaults,this.editor.options,r);Object.keys(i).some((function(t){return e.editor.getOption(t)!==i[t]}))&&Object.keys(i).forEach((function(t){r.hasOwnProperty(t)&&e.editor.getOption(t)!==i[t]&&(e.editor.setOption(t,i[t]),e.mirror.setOption(t,i[t]))})),this.hydrated||(this.deferred?this.resolveChange(t.value):this.initChange(t.value||"")),this.hydrated=!0},e.prototype.initChange=function(t){this.emulating=!0;var e=this.editor.getDoc(),r=e.lastLine(),n=e.getLine(e.lastLine()).length;e.replaceRange(t||"",{line:0,ch:0},{line:r,ch:n}),this.mirror.setValue(t),e.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},e.prototype.resolveChange=function(t){this.emulating=!0;var e=this.editor.getDoc();if("undo"===this.deferred.origin?e.undo():"redo"===this.deferred.origin?e.redo():e.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),t&&t!==e.getValue()){var r=e.getCursor();e.setValue(t),e.setCursor(r)}this.emulating=!1,this.deferred=null},e.prototype.mirrorChange=function(t){var e=this.editor.getDoc();return"undo"===t.origin?(e.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===t.origin?(e.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(t.text,t.from,t.to,t.origin),this.mirror.getValue()},e.prototype.componentDidMount=function(){var t=this;c||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref,this.props.options),this.shared=new u(this.editor,this.props),this.mirror=s((function(){}),this.props.options),this.editor.on("electricInput",(function(){t.mirror.setHistory(t.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){t.mirror.setCursor(t.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(e,r){if(!t.emulating){r.cancel(),t.deferred=r;var n=t.mirrorChange(t.deferred);t.props.onBeforeChange&&t.props.onBeforeChange(t.editor,t.deferred,n)}})),this.editor.on("change",(function(e,r){t.mounted&&t.props.onChange&&t.props.onChange(t.editor,r,t.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},e.prototype.componentDidUpdate=function(t){if(!c){var e={cursor:null};this.props.value!==t.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(e.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(t,this.props,e),this.appliedNext=!0),this.shared.applyUserDefined(t,e),this.appliedUserDefined=!0}},e.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},e.prototype.shouldComponentUpdate=function(t,e){return!c},e.prototype.render=function(){var t=this;if(c)return null;var e=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return a.createElement("div",{className:e,ref:function(e){return t.ref=e}})},e}(a.Component);e.fk=d,function(t){function e(e){var r=t.call(this,e)||this;return c||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}o(e,t),e.prototype.hydrate=function(t){var e=this,r=t&&t.options?t.options:{},i=n({},s.defaults,this.editor.options,r);if(Object.keys(i).some((function(t){return e.editor.getOption(t)!==i[t]}))&&Object.keys(i).forEach((function(t){r.hasOwnProperty(t)&&e.editor.getOption(t)!==i[t]&&e.editor.setOption(t,i[t])})),!this.hydrated){var o=this.editor.getDoc(),a=o.lastLine(),c=o.getLine(o.lastLine()).length;o.replaceRange(t.value||"",{line:0,ch:0},{line:a,ch:c})}this.hydrated=!0},e.prototype.componentDidMount=function(){var t=this;c||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref,this.props.options),this.shared=new u(this.editor,this.props),this.editor.on("beforeChange",(function(e,r){t.props.onBeforeChange&&t.props.onBeforeChange(t.editor,r,t.editor.getValue(),t.onBeforeChangeCb)})),this.editor.on("change",(function(e,r){t.mounted&&t.props.onChange&&(t.props.onBeforeChange?t.continueChange&&t.props.onChange(t.editor,r,t.editor.getValue()):t.props.onChange(t.editor,r,t.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},e.prototype.componentDidUpdate=function(t){if(this.detached&&!1===this.props.detach&&(this.detached=!1,t.editorDidAttach&&t.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,t.editorDidDetach&&t.editorDidDetach(this.editor)),!c&&!this.detached){var e={cursor:null};this.props.value!==t.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),t.autoCursor||void 0===t.autoCursor||(e.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(t),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(t,e),this.appliedUserDefined=!0)}},e.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},e.prototype.shouldComponentUpdate=function(t,e){var r=!0;return c&&(r=!1),this.detached&&t.detach&&(r=!1),r},e.prototype.render=function(){var t=this;if(c)return null;var e=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return a.createElement("div",{className:e,ref:function(e){return t.ref=e}})}}(a.Component)}}]);