/**
 * @architect Mark Jivko <mark@socialdetox.ai>
 * @copyright Â© 2024 SocialDetox.ai https://socialdetox.ai
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(91804)}])},57063:function(e,n,t){"use strict";t.d(n,{m:function(){return i},p:function(){return r}});var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{month:"long",day:"numeric",year:"numeric"};return e?new Intl.DateTimeFormat(n,t).format(new Date(e)):e},i=function(e){var n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=e%60,i=String(n).padStart(2,"0"),o=String(t).padStart(2,"0"),a=String(r).padStart(2,"0");return"".concat(i,":").concat(o,":").concat(a)}},91804:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return On}});var r=t(47568),i=t(26042),o=t(69396),a=t(29815),l=t(97582),s=t(85893),u=t(60357),c=t.n(u),d=t(87066),f={billing:{orders:150,ordersPad:50},pageSize:1500,agentsCount:8},h=t(20214),p=t(88073),x=t(67294),m=t(11163),g=t(90948),v=t(2734),y=t(15861),b=t(69417),Z=t(86653),j=t(80822),w=t(65834),_=t(82670),k=t(74231),C=t(5152),S=t.n(C),A=t(47533),I=t(77058),L=t(87536),O=t(50480),E=t(56815),M=t(31425),T=t(6514),P=t(37645),D=t(94054),R=t(93946),N=t(33841),z=t(50135),W=t(23599),q=t(1292),B=t(67720),F=t(10315),H=t(50657),Q=t(59653),K=t(91346),V=t(21737),U=t(74496),X=t(14529),$=t(25577),G=t(51221),J=t(9601),Y=t(72162),ee=t(87413),ne=t(17494),te=t(36599),re=t(42274),ie=t(83296),oe=S()((function(){return Promise.all([t.e(126),t.e(700),t.e(568)]).then(t.bind(t,37568))}),{loadableGenerated:{webpack:function(){return[37568]}},ssr:!1}),ae=(0,g.ZP)(te.Z)((function(e){e.theme;return{paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}})),le=function(e){var n=e.isOpen,t=void 0!==n&&n,i=e.onOpen,o=void 0===i?function(){}:i,a=e.onClose,u=void 0===a?function(){}:a,c=e.onDelete,d=void 0===c?function(){}:c,f=e.onUpdate,h=void 0===f?function(){}:f,p=e.description,m=e.agent,g=(0,v.Z)(),Z=(0,I.$)().i18n,w=(0,x.useState)(!1),C=w[0],S=w[1],te=(0,x.useState)({}),le=te[0],se=te[1],ue=(0,x.useRef)(null),ce=(0,x.useState)(!1),de=ce[0],fe=ce[1],he=(0,x.useState)(""),pe=he[0],xe=he[1],me=window.smf.getLabels(),ge=window.smf.getOptions(pe),ve={},ye={__name:k.Z_().required(Z.t("AI Agent name is required")).min(3,(function(){return Z.t("Must be at least {{n}} character long",{n:3})})).max(64,(function(){return Z.t("Must be at most {{n}} characters long",{n:64})}))},be={__name:null===m||void 0===m?void 0:m.name},Ze=!0,je=!1,we=void 0;try{for(var _e,ke=function(){var e=_e.value,n="string"===typeof ge[e].if&&"undefined"!==typeof ge[ge[e].if]?ge[e].if:e;"object"!==typeof ve[n]&&(ve[n]={}),ve[n][e]=ge[e],"undefined"!==typeof ge[e].default&&(be[e]=ge[e].default);var t=null;switch(ge[e].type){case"boolean":t=k.O7();break;case"string":t=k.Z_(),"number"===typeof ge[e].minLength&&(ge[e].minLength>0&&(t=t.required("This field is required")),t=t.min(ge[e].minLength,(function(){return Z.t("Must be at least {{n}} characters long",{n:ge[e].minLength})}))),"number"===typeof ge[e].maxLength&&(t=t.max(ge[e].maxLength,(function(){return Z.t("Must be at most {{n}} characters long",{n:ge[e].maxLength})}))),(0,_.Z)(ge[e].regex,RegExp)&&(t=t.matches(ge[e].regex,"string"===typeof ge[e].regexInfo?ge[e].regexInfo:"Must match regular expression: ".concat(ge[e].regex)));break;case"code":t=k.Z_();break;case"select":t=k.Z_().required("This option is required").oneOf(Object.keys(ge[e].options),"Invalid option");break;case"int":t=k.Rx().integer(),"number"===typeof ge[e].min&&(t=t.min(ge[e].min,Z.t("Must be a number larger than {{n}}",{n:ge[e].min}))),"number"===typeof ge[e].max&&(t=t.max(ge[e].max,(function(){return Z.t("Must be a number lower than {{n}}",{n:ge[e].max})})))}null!==t&&(ye[e]=t),"string"!==typeof ge[e].if||"undefined"===typeof ge[ge[e].if]||le[ge[e].if]||(delete be[e],delete ye[e])},Ce=Object.keys(ge)[Symbol.iterator]();!(Ze=(_e=Ce.next()).done);Ze=!0)ke()}catch(Re){je=!0,we=Re}finally{try{Ze||null==Ce.return||Ce.return()}finally{if(je)throw we}}var Se=(0,L.cI)({defaultValues:be,mode:"onChange",resolver:(0,A.X)(k.Ry().shape(ye))}),Ae=Se.reset,Ie=Se.control,Le=Se.setValue,Oe=Se.getValues,Ee=Se.handleSubmit,Me=Se.formState.errors,Te=function(){var e=(0,r.Z)((function(e){var n,t,r,i,o,a,s,u;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:fe(!0),n=structuredClone(e),t=n.__name,delete n.__name,r=!0,i=!1,o=void 0;try{for(a=Object.keys(n)[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)u=s.value,"string"!==typeof ge[u].if||"undefined"===typeof ge[ge[u].if]||le[ge[u].if]||delete n[u]}catch(Re){i=!0,o=Re}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return Le("__name",t),xe(pe),[4,h(m.id,{name:t,config:pe,options:n})];case 1:return l.sent(),fe(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){Le("__name",null===m||void 0===m?void 0:m.name),xe(m.config);var e=function(e){e.ctrlKey&&"s"===e.key&&(e.preventDefault(),De())};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),(0,x.useEffect)((function(){var e={_:pe};Ae();var n=!0,t=!1,r=void 0;try{for(var i,o=Object.keys(ge)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value,l=ge[a].default;"object"===typeof m.options&&null!==m.options&&"undefined"!==typeof m.options[a]&&(l=m.options[a]),Le(a,l),"boolean"===ge[a].type&&(e[a]=!!l)}}catch(Re){t=!0,r=Re}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}se(e)}),[pe]),(0,x.useEffect)((function(){t&&"function"===typeof o&&o()}),[t]);var Pe=function(){t&&"function"===typeof u&&u(),Ae()},De=function(){ue.current&&ue.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return t?(0,s.jsxs)(H.Z,{open:!0,disableEscapeKeyDown:!0,sx:{"& .MuiPaper-root":{width:"100%",maxWidth:650,p:2}},onClose:de?function(){}:Pe,children:[(0,s.jsxs)(P.Z,{children:[Z.t("AI Agent Settings"),p?(0,s.jsx)(R.Z,{"aria-label":Z.t("More information"),sx:{ml:2},color:"default",onClick:function(){return S(!C)},size:"large",children:C?(0,s.jsx)($.Z,{}):(0,s.jsx)(U.Z,{})}):null]}),(0,s.jsxs)(T.Z,{children:[p&&C?(0,s.jsx)(V.Z,{severity:"info",sx:{mb:6},children:(0,s.jsx)(y.Z,{color:"inherit",variant:"body2",children:p})}):null,de?(0,s.jsx)(re.Z,{}):(0,s.jsxs)("form",{onSubmit:Ee(Te),ref:ue,children:[(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{my:3,mt:6},error:!!Me.__name,children:[(0,s.jsx)(L.Qr,{name:"__name",control:Ie,render:function(e){var n=e.field,t=n.value,r=n.onChange;return(0,s.jsx)(z.Z,{value:t,onKeyDown:function(e){return"Enter"===e.key&&De()},onChange:r,spellCheck:!1,autoComplete:"off",inputProps:{minLength:3,maxLength:64},label:Z.t("AI Agent name"),placeholder:Z.t("AI Agent name"),error:Boolean(Me.__name)})}}),Me.__name&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:Me.__name.message})]}),(0,s.jsxs)(D.Z,{sx:{my:3},fullWidth:!0,children:[(0,s.jsx)(N.Z,{children:Z.t("AI Agent configuration")}),(0,s.jsx)(F.Z,{value:pe,onChange:function(e){return xe(e.target.value)},label:Z.t("AI Agent configuration"),children:Object.keys(null!==me&&void 0!==me?me:{}).map((function(e){return(0,s.jsx)(W.Z,{value:e,children:me[e]},e)}))})]}),Object.keys(ve).length?(0,s.jsx)(ae,{sx:{mb:3,mt:0},children:Object.keys(ve).map((function(e){return(0,s.jsxs)(ee.Z,{children:[(0,s.jsxs)(J.Z,{children:[(0,s.jsx)(ne.Z,{variant:"outlined"}),(0,s.jsx)(G.Z,{})]}),(0,s.jsx)(Y.Z,{sx:{mt:-2,pr:0,maxWidth:"100%",display:"grid"},children:Object.keys(ve[e]).map((function(n){var t,r,i,o,a,l=ve[e][n];return"string"!==typeof l.if||"undefined"===typeof ge[l.if]||Oe(l.if)?"boolean"===l.type?(0,s.jsxs)(D.Z,{fullWidth:!0,error:!!Me[n],children:[(0,s.jsx)(q.Z,{title:Z.t(null!==(t=null===l||void 0===l?void 0:l.desc)&&void 0!==t?t:""),placement:"bottom-start",children:(0,s.jsx)(O.Z,{label:Z.t(null!==(r=null===l||void 0===l?void 0:l.title)&&void 0!==r?r:""),sx:{userSelect:"none"},control:(0,s.jsx)(L.Qr,{name:n,control:Ie,render:function(e){var t=e.field,r=t.value,i=t.onChange;return(0,s.jsx)(Q.Z,{checked:!!r,onChange:function(e){i(e.target.checked);var t=structuredClone(le);t[n]=e.target.checked,se(t)}})}})})}),Me[n]&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:Me[n].message})]},n):"int"===l.type?(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{mt:3},error:!!Me[n],children:[(0,s.jsx)(L.Qr,{name:n,control:Ie,render:function(e){var t=e.field,r=t.value,i=t.onChange,o={},a=[];if("number"===typeof l.min&&(o.min=l.min),"number"===typeof l.max&&(o.max=l.max),"number"===typeof l.min&&"number"===typeof l.max)for(var u=l.min;u<=l.max;u+=l.step)a.push({value:u,label:u});var c,d,f,h=function(e){var n=parseInt(e.target.value,10);isNaN(n)&&(n=l.default),i(n)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{textAlign:"left",sx:{mt:0,mb:0,lineHeight:"normal",width:"100%",userSelect:"none","&:before":{width:"10px"},"&:before, &:after":{top:2,transform:"none"},"& .MuiDivider-wrapper":{px:2.5,fontSize:"0.75rem",letterSpacing:"0.21px"}},children:Z.t(null!==(c=null===l||void 0===l?void 0:l.title)&&void 0!==c?c:"")}),(0,s.jsx)(q.Z,{title:Z.t(null!==(d=null===l||void 0===l?void 0:l.desc)&&void 0!==d?d:""),placement:"bottom-start",children:(0,s.jsx)(j.Z,{children:"number"===typeof l.min&&"number"===typeof l.max?(0,s.jsx)(j.Z,{sx:{px:2,mt:3},children:(0,s.jsx)(K.ZP,{value:null!==r&&void 0!==r?r:l.default,onChange:h,marks:a,min:o.min,max:o.max,step:null!==(f=l.step)&&void 0!==f?f:1,defaultValue:l.default,"aria-labelledby":n})}):(0,s.jsx)(z.Z,{sx:{mt:3},value:null!==r&&void 0!==r?r:l.default,onChange:h,fullWidth:!0,type:"number",spellCheck:!1,autoComplete:"off",defaultValue:l.default,placeholder:Z.t("number"),inputProps:o,"aria-labelledby":n,error:Boolean(Me[n])})})})]})}}),Me[n]&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:Me[n].message})]},n):"select"===l.type?(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{my:3},error:!!Me[n],children:[(0,s.jsx)(N.Z,{id:"select-".concat(n),children:Z.t(null!==(i=null===l||void 0===l?void 0:l.title)&&void 0!==i?i:"")}),(0,s.jsx)(L.Qr,{name:n,control:Ie,render:function(e){var t=e.field,r=t.value,i=t.onChange;return(0,s.jsx)(q.Z,{title:Z.t(null!==(o=null===l||void 0===l?void 0:l.desc)&&void 0!==o?o:""),placement:"bottom-start",children:(0,s.jsx)(F.Z,{value:null!==r&&void 0!==r?r:l.default,onChange:i,labelId:"select-".concat(n),label:Z.t(null!==(a=null===l||void 0===l?void 0:l.title)&&void 0!==a?a:""),children:Object.keys(null===l||void 0===l?void 0:l.options).map((function(e){return(0,s.jsx)(W.Z,{value:e,children:l.options[e]},"".concat(n,"-").concat(e))}))})})}}),Me[n]&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:Me[n].message})]},n):"code"===l.type?(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{my:3},error:!!Me[n],children:[(0,s.jsx)(L.Qr,{name:n,control:Ie,render:function(e){var n,t,r=e.field,i=r.value,o=r.onChange,a=Z.t(null!==(n=null===l||void 0===l?void 0:l.title)&&void 0!==n?n:"");return"number"===typeof l.maxLength&&l.maxLength>0&&(null===i||void 0===i?void 0:i.length)/l.maxLength>=.75&&(a+=" (".concat(null===i||void 0===i?void 0:i.length," / ").concat(l.maxLength,")")),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q.Z,{title:Z.t(null!==(t=null===l||void 0===l?void 0:l.desc)&&void 0!==t?t:""),placement:"bottom-start",children:(0,s.jsx)(B.Z,{textAlign:"left",sx:{mt:0,mb:4,lineHeight:"normal",width:"100%",userSelect:"none","&:before":{width:"10px"},"&:before, &:after":{top:2,transform:"none"},"& .MuiDivider-wrapper":{px:2.5,fontSize:"0.75rem",letterSpacing:"0.21px"}},children:a})}),(0,s.jsx)(oe,{value:"string"===typeof i&&i.length?i:l.default,valueDefault:l.default,onChange:o,maxLength:l.maxLength,mode:g.palette.mode})]})}}),Me[n]&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:Me[n].message})]},n):(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{my:3},error:!!Me[n],children:[(0,s.jsx)(L.Qr,{name:n,control:Ie,render:function(e){var t,r,i,o=e.field,a=o.value,u=o.onChange,c={},d=Z.t(null!==(t=null===l||void 0===l?void 0:l.title)&&void 0!==t?t:"");return"number"===typeof l.minLength&&(c.minLength=l.minLength),"number"===typeof l.maxLength&&(c.maxLength=l.maxLength,l.maxLength>0&&(null===a||void 0===a?void 0:a.length)/l.maxLength>=.75&&(d+=" (".concat(null===a||void 0===a?void 0:a.length," / ").concat(l.maxLength,")"))),(0,s.jsx)(q.Z,{title:Z.t(null!==(r=null===l||void 0===l?void 0:l.desc)&&void 0!==r?r:""),placement:"bottom-start",children:(0,s.jsx)(z.Z,{value:null!==a&&void 0!==a?a:l.default,required:"number"===typeof l.minLength&&l.minLength>0,onChange:u,multiline:!l.short,rows:l.short?1:3,spellCheck:!1,autoComplete:"off",inputProps:c,label:d,placeholder:null!==(i=null===l||void 0===l?void 0:l.default)&&void 0!==i?i:"",error:Boolean(Me[n])})})}}),Me[n]&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:Me[n].message})]},n):null}))})]},e)}))}):null]})]}),de?null:(0,s.jsxs)(M.Z,{sx:{mt:2,py:2,justifyContent:"space-between"},children:[(0,s.jsx)(j.Z,{children:(0,s.jsx)(b.Z,{color:"error",onClick:function(){Pe(),d()},startIcon:(0,s.jsx)(ie.Z,{}),children:Z.t("Delete")})}),(0,s.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(b.Z,{color:"secondary",onClick:Pe,sx:{mr:3},children:Z.t("Close")}),(0,s.jsx)(b.Z,{variant:"contained",onClick:De,className:null===(null===m||void 0===m?void 0:m.options)?"pop":null,startIcon:(0,s.jsx)(X.Z,{}),children:Z.t("Save")})]})]})]}):null},se=t(5368),ue=function(e){var n=e.isOpen,t=void 0!==n&&n,i=e.onOpen,o=void 0===i?function(){}:i,a=e.onClose,u=void 0===a?function(){}:a,c=e.onCreate,d=void 0===c?function(){}:c,f=e.description,h=(0,I.$)().i18n,p=(0,x.useState)(!1),m=p[0],g=p[1],v=(0,x.useRef)(null),Z=(0,x.useState)(!1),w=Z[0],_=Z[1],C=window.smf.getLabels(),S={name:k.Z_().required(h.t("AI Agent name is required")).min(3,(function(){return h.t("Must be at least {{n}} character long",{n:3})})).max(64,(function(){return h.t("Must be at most {{n}} characters long",{n:64})})),config:k.Z_().required().oneOf(Object.keys(C),"Invalid configuration")},O={name:"",config:Object.keys(C)[0]},q=(0,L.cI)({defaultValues:O,mode:"onChange",resolver:(0,A.X)(k.Ry().shape(S))}),B=q.reset,Q=q.control,K=q.handleSubmit,X=q.formState.errors,G=function(){var e=(0,r.Z)((function(e){var n,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return _(!0),n=e.name,t=e.config,[4,d(n,t)];case 1:return r.sent(),_(!1),u(),[2]}}))}));return function(n){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){t&&"function"===typeof o&&o()}),[t]);var J=function(){t&&"function"===typeof u&&u(),B()},Y=function(){v.current&&v.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return t?(0,s.jsxs)(H.Z,{open:!0,onClose:w?function(){}:J,sx:{"& .MuiPaper-root":{width:"100%",maxWidth:750,p:2}},children:[(0,s.jsxs)(P.Z,{children:[h.t("Add AI Agent"),f?(0,s.jsx)(R.Z,{"aria-label":h.t("More information"),sx:{ml:2},color:"default",onClick:function(){return g(!m)},size:"large",children:m?(0,s.jsx)($.Z,{}):(0,s.jsx)(U.Z,{})}):null]}),(0,s.jsxs)(T.Z,{children:[f&&m?(0,s.jsx)(V.Z,{severity:"info",sx:{mb:6},children:(0,s.jsx)(y.Z,{color:"inherit",variant:"body2",children:f})}):null,(0,s.jsxs)("form",{onSubmit:K(G),ref:v,children:[(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{my:3},error:!!X.name,children:[(0,s.jsx)(L.Qr,{name:"name",control:Q,render:function(e){var n=e.field,t=n.value,r=n.onChange;return(0,s.jsx)(z.Z,{disabled:w,autoFocus:!0,value:t,onChange:r,onKeyDown:function(e){return"Enter"===e.key&&Y()},spellCheck:!1,autoComplete:"off",inputProps:{minLength:3,maxLength:64,tabIndex:1},label:h.t("AI Agent name"),placeholder:h.t("AI Agent name"),error:Boolean(X.name)})}}),X.name&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:X.name.message})]}),(0,s.jsxs)(D.Z,{fullWidth:!0,sx:{my:3},error:!!X.config,children:[(0,s.jsx)(N.Z,{id:"select-config",children:h.t("AI Agent configuration")}),(0,s.jsx)(L.Qr,{name:"config",control:Q,render:function(e){var n=e.field,t=n.value,r=n.onChange;return(0,s.jsx)(F.Z,{disabled:w,value:null!==t&&void 0!==t?t:O.config,onChange:r,labelId:"select-config",label:h.t("AI Agent Configuration"),children:Object.keys(C).map((function(e){return(0,s.jsx)(W.Z,{value:e,children:C[e]},"config-".concat(e))}))})}}),X.config&&(0,s.jsx)(E.Z,{sx:{color:"error.main"},children:X.config.message})]}),w?(0,s.jsx)(j.Z,{sx:{mt:6},children:(0,s.jsx)(re.Z,{})}):null]})]}),w?null:(0,s.jsxs)(M.Z,{children:[(0,s.jsx)(b.Z,{color:"secondary",onClick:J,children:h.t("Cancel")}),(0,s.jsx)(b.Z,{variant:"contained",onClick:Y,endIcon:(0,s.jsx)(se.Z,{}),children:h.t("Next")})]})]}):null},ce=function(e){var n=e.isOpen,t=void 0!==n&&n,i=e.onOpen,o=void 0===i?function(){}:i,a=e.onClose,u=void 0===a?function(){}:a,c=e.onDelete,d=void 0===c?function(){}:c,f=e.description,h=e.agent,p=(0,I.$)().i18n,m=(0,x.useState)(!1),g=m[0],v=m[1],Z=(0,x.useState)(!1),j=Z[0],w=Z[1],_=(0,x.useState)(!1),k=_[0],C=_[1];(0,x.useEffect)((function(){t&&"function"===typeof o&&o()}),[t]);var S=function(){t&&"function"===typeof u&&u()},A=function(e){w((null===h||void 0===h?void 0:h.name)===e.target.value)},L=function(){var e=(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:if(!j)return[3,6];C(!0),w(!1),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,d(h.id)];case 2:return e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return C(!1),[4,S()];case 5:e.sent(),e.label=6;case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return t?(0,s.jsxs)(H.Z,{open:!0,onClose:k?function(){}:S,sx:{"& .MuiPaper-root":{width:"100%",maxWidth:750,p:2}},children:[(0,s.jsxs)(P.Z,{children:[p.t("Delete AI Agent"),f?(0,s.jsx)(R.Z,{"aria-label":p.t("More information"),sx:{ml:2},color:"default",onClick:function(){return v(!g)},size:"large",children:g?(0,s.jsx)($.Z,{}):(0,s.jsx)(U.Z,{})}):null]}),(0,s.jsx)(T.Z,{children:k?(0,s.jsx)(re.Z,{}):(0,s.jsxs)(s.Fragment,{children:[f&&g?(0,s.jsx)(V.Z,{severity:"info",sx:{mb:6},children:(0,s.jsx)(y.Z,{color:"inherit",variant:"body2",children:f})}):null,(0,s.jsxs)(V.Z,{severity:"warning",sx:{mb:6},children:[p.t("Are you sure you want to delete this AI Agent?")," ",p.t("This action is irreversible!")]}),(0,s.jsx)(y.Z,{variant:"body2",children:p.t('To confirm deleting your Agent, please type "{{name}}" below:',{name:null===h||void 0===h?void 0:h.name})}),(0,s.jsx)(z.Z,{sx:{mt:2},autoFocus:!0,fullWidth:!0,spellCheck:!1,autoComplete:"off",required:!0,inputProps:{tabIndex:1},type:"text",color:j?"primary":"error",label:p.t("AI Agent name"),placeholder:p.t("AI Agent name"),onChange:A,onKeyUp:A,onKeyDown:function(e){return"Enter"===e.key&&L()}})]})}),k?null:(0,s.jsxs)(M.Z,{children:[(0,s.jsx)(b.Z,{color:"secondary",onClick:S,children:p.t("Cancel")}),(0,s.jsx)(b.Z,{color:"error",onClick:L,disabled:!j,startIcon:(0,s.jsx)(ie.Z,{}),children:p.t("Delete Agent")})]})]}):null},de=t(51438),fe=t(52951),he=t(828),pe=t(99534),xe=function(e){var n=e.draw,t=e.data,r=e.options,o=(0,pe.Z)(e,["draw","data","options"]),a=(0,x.useRef)(null);return(0,x.useEffect)((function(){var e=a.current.getContext((null===r||void 0===r?void 0:r.context)||"2d"),t=0,i=null;if(null===r||void 0===r?void 0:r.animate){var o=function(){t++;var a=!1;"number"===typeof(null===r||void 0===r?void 0:r.frames)&&t>r.frames&&((null===r||void 0===r?void 0:r.repeat)?t=0:a=!0),n(e,t),a?null!==i&&window.cancelAnimationFrame(i):i=window.requestAnimationFrame(o)};return o(),function(){return null!==i&&window.cancelAnimationFrame(i)}}n(e,t)}),[n,t]),(0,s.jsx)("canvas",(0,i.Z)({style:{willChange:"transform"},ref:a},o))},me={colors:["51, 204, 255","102, 255, 255","255, 255, 255","0, 153, 255","0, 204, 255","153, 204, 255"],circles:[],circle:function(){function e(n,t,r,i,o,a,l,s){(0,de.Z)(this,e),this.x=n,this.y=t,this.radius=r,this.minRadius=r,this.vx=i,this.vy=o,this.birth=l,this.life=s,this.opacity=1,this.rgb=a}return(0,fe.Z)(e,[{key:"draw",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.radius,2*Math.PI,!1),e.fillStyle="rgba(".concat(this.rgb,",").concat(this.opacity,")"),e.fill()}},{key:"update",value:function(e){var n=this,t=(new Date).getTime();if((this.x+this.radius>innerWidth||this.x-this.radius<0)&&(this.vx=-this.vx),(this.y+this.radius>innerHeight||this.y-this.radius<0)&&(this.vy=-this.vy),this.x+=this.vx,this.y+=this.vy,this.opacity=1-1*(t-this.birth)/this.life,t>this.birth+this.life){var r=me.circles.findIndex((function(e){return e.birth===n.birth&&e.life===n.life}));-1!==r&&me.circles.splice(r,1)}else this.draw(e)}}]),e}(),reset:function(){me.circles=[]},spawn:function(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,i=0;i<t;i++){var o=Math.floor(4*Math.random())+1,a=6*Math.random()-3,l=6*Math.random()-3,s=me.colors[Math.floor(Math.random()*me.colors.length)],u=(new Date).getTime();me.circles.push(new me.circle(e,n,o,a,l,s,u,r))}},draw:function(e){if(me.circles.length){e.clearRect(0,0,e.canvas.width,innerHeight);var n=!0,t=!1,r=void 0;try{for(var i,o=me.circles[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){i.value.update(e)}}catch(a){t=!0,r=a}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}}};function ge(e){var n=e.agent,t=e.hashActive,i=e.area,o=void 0===i?[]:i,a=(0,x.useState)(0),u=a[0],c=a[1],d=(0,x.useState)(0),f=d[0],h=d[1],p=(0,x.useState)(1),m=p[0],g=p[1],v=(0,x.useState)(1),y=v[0],b=v[1];return(0,x.useEffect)((function(){if(me.reset(),Array.isArray(o)&&4===o.length){var e=[],n=(0,he.Z)(o,4),t=n[0],i=n[1],a=n[2],s=n[3];h(t-25),c(i-25),g(a+50),b(s+50);var u=parseInt(2*(a+s)/75,10);u=u<1?1:u>25?25:u;for(var d=[],f=[],p=0;p<=a;p+=u)d.push(25+p);for(var x=0;x<=s;x+=u)f.push(25+x);f.map((function(n){return e.push([25,n])})),d.map((function(n){return e.push([n,25+s])})),f.reverse().map((function(n){return e.push([25+a,n])})),d.reverse().map((function(n){return e.push([n,25])})),(0,r.Z)((function(){var n,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:n=function(n){var t,r;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return t=Math.floor(5*Math.random())+3,r=750+25*n,me.spawn(e[n][0],e[n][1],t,r>1250?1250:r),[4,new Promise((function(e){return window.setTimeout(e,n<100?3:1)}))];case 1:return i.sent(),[2]}}))},t=0,r.label=1;case 1:return t<e.length?[5,(0,l.__values)(n(t))]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))()}else c(0),h(0),g(1),b(1)}),[o]),(0,x.useEffect)((function(){me.reset()}),[t]),t[null===n||void 0===n?void 0:n.id]?(0,s.jsxs)(j.Z,{sx:{position:"relative",width:"100%",height:"100%"},children:[(0,s.jsx)(j.Z,{className:"agent-overlay",sx:{background:"rgba(0,0,0,0.3)",border:"1px solid #38b7d7"}}),(0,s.jsx)(j.Z,{sx:{zIndex:2,display:"flex",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:(0,s.jsx)(xe,{data:o,draw:me.draw,width:m,height:y,style:{position:"absolute",top:"".concat(u,"px"),left:"".concat(f,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")},options:{animate:!0,repeat:!0,frames:1e3}})})]}):null}var ve=t(14924),ye=t(51964),be=t.n(ye),Ze=t(57063),je=t(63375),we=t(54356),_e=t(44737),ke=t(85706),Ce=t(17261),Se=t(98005),Ae=t(82753),Ie=t(9902),Le=t(1924),Oe=t(9737),Ee=t(60541),Me=t(35248),Te=t(31909),Pe=t(38916),De=t(93410),Re=t(57568),Ne=t(85233),ze=t(40706),We=t(39606),qe=t(82777),Be=t(88143),Fe=t(94088),He=t(67085),Qe=t(4312),Ke=t(79349),Ve={custom:ze.Z,twitter:Be.Z,linkedin:We.Z,threads:Ke.Z,instagram:De.Z,facebook:Ne.Z,reddit:He.Z,tiktok:Ee.Z,youtube:Fe.Z,snapchat:qe.Z,tumblr:Oe.Z,quora:Qe.Z,pinterest:Re.Z,dribbble:Te.Z,behance:Le.Z,deviantart:Pe.Z},Ue=(0,x.forwardRef)((function(e,n){var t,r=e.config,i=void 0===r?"custom":r,o=e.sx,a=void 0===o?{}:o,l=e.color,u=void 0===l?"primary":l,c=null!==(t=Ve[i])&&void 0!==t?t:Me.Z;return(0,s.jsx)(c,{sx:a,color:u})})),Xe=(0,g.ZP)(be())((function(e){e.theme;return{maxHeight:"calc(100vh - 150px)",paddingTop:0,paddingBottom:0,overflow:"hidden","& .MuiMenuItem-root:last-of-type":{border:0}}})),$e=(0,g.ZP)(je.Z)((function(e){var n=e.theme;return{"&.MuiPopover-root":{background:"rgba(0, 0, 0, 0.4)"},"& .MuiMenu-paper":(0,ve.Z)({width:"calc(100% - 300px)",boxShadow:"none",left:"300px !important",right:"0 !important",overflow:"hidden",borderRadius:0,marginTop:n.spacing(0)},n.breakpoints.down("sm"),{width:"100%"}),"& .MuiMenu-list":{padding:0}}})),Ge=(0,g.ZP)(j.Z)((function(e){var n=e.theme;return{paddingTop:n.spacing(4),paddingBottom:n.spacing(3),userSelect:"text",minHeight:"50px",borderBottom:"1px solid ".concat(n.palette.divider)}})),Je=function(e){var n=e.log,t=e.filter,r=void 0===t?"":t,i=e.large,o=void 0!==i&&i,a=n.m,l=n.s,u=n.t,c=U.Z;switch(l){case"success":c=we.Z;break;case"warning":c=_e.Z;break;case"error":c=ke.Z}var d="number"===typeof u?(0,Ze.p)(1e3*u,"en-US",{day:"numeric",month:"short",hour:"numeric",minute:"numeric",second:"numeric"}):"today",f=a;if(o&&"string"===typeof r&&r.length){var h="".concat(f).toLowerCase().indexOf(r);-1!==h&&(f=(0,s.jsxs)("span",{children:[f.substring(0,h),(0,s.jsx)("span",{className:"highlighted",children:f.substring(h,h+r.length)}),f.substring(h+r.length)]}))}return o?(0,s.jsxs)(j.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,s.jsxs)(j.Z,{sx:{flex:"1 1",display:"flex",overflow:"hidden",flexDirection:"row"},children:[(0,s.jsx)(c,{color:l,fontSize:"small",sx:{mr:3}}),(0,s.jsx)(y.Z,{component:"pre",variant:"caption",sx:{whiteSpace:"pre-wrap",pr:3},children:f})]}),(0,s.jsx)(y.Z,{variant:"caption",sx:{color:"text.disabled"},children:d})]}):(0,s.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,s.jsx)(c,{color:l,fontSize:"small",sx:{mr:2}}),(0,s.jsx)(y.Z,{variant:"caption",noWrap:!0,align:"left",sx:{textTransform:"none",width:"calc(100% - 100px)"},children:f})]})},Ye=function(e){var n=e.children;return(0,s.jsx)(Xe,{options:{wheelPropagation:!1,suppressScrollX:!0},children:n})};function en(e){var n=e.logs,t=e.agent,r=e.hashActive,i=e.onClear,o=void 0===i?function(){}:i,l=e.onSettings,u=void 0===l?function(){}:l,c=(0,v.Z)(),d=(0,I.$)().i18n,f=(0,p.r)().settings.direction,h=(0,x.useState)(null),m=h[0],g=h[1],Z=[{slug:"info",label:d.t("Information")},{slug:"success",label:d.t("Success")},{slug:"warning",label:d.t("Warning")},{slug:"error",label:d.t("Error")}],w=(0,x.useState)((function(){return Z.map((function(e){return e.slug}))})),_=w[0],k=w[1],C=(0,x.useState)(""),S=C[0],A=C[1],L=function(){g(null),A(""),k(Z.map((function(e){return e.slug})))};(0,x.useEffect)((function(){null===m||"object"!==typeof r||null===r||r[null===t||void 0===t?void 0:t.id]||L()}),[r]);return t?(0,s.jsxs)(j.Z,{sx:{position:"relative",display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(q.Z,{title:Array.isArray(n)&&n.length?d.t("AI Agent Logs"):null,placement:"left",children:(0,s.jsx)(j.Z,{sx:{width:"100%",height:"100%"},children:(0,s.jsxs)(b.Z,{onClick:function(e){return Array.isArray(n)&&n.length&&g(e.currentTarget)},disabled:!Array.isArray(n)||!n.length,sx:{pr:0,width:"100%",height:"100%",display:"flex",alignItems:"center",borderRadius:0,justifyContent:"space-between",boxShadow:"-1px 0px 0px 0px ".concat("light"==c.palette.mode?"#ddd":"#000"," inset")},children:[(0,s.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",width:"calc(100% - 50px)"},children:[(0,s.jsx)(Ue,{config:t.config,sx:{mr:2},color:r[t.id]?"primary":"action"}),(0,s.jsx)(y.Z,{variant:"caption",sx:{mr:2,whiteSpace:"nowrap"},children:null===t||void 0===t?void 0:t.name}),Array.isArray(n)&&n.length?(0,s.jsx)(Je,{log:n[0]}):null]}),(0,s.jsx)(j.Z,{sx:{width:"50px",alignItems:"center",display:"flex",justifyContent:"center"},children:Array.isArray(n)&&n.length?null===m?(0,s.jsx)(Se.Z,{color:"action"}):(0,s.jsx)(Ae.Z,{color:"action"}):null})]})})}),(0,s.jsx)(j.Z,{sx:{width:"auto",px:2,display:"flex",justifyContent:"end",alignItems:"center"},children:(0,s.jsx)(q.Z,{title:d.t("AI Agent Settings"),placement:"left",children:(0,s.jsx)(R.Z,{onClick:function(){return u()},className:null===(null===t||void 0===t?void 0:t.options)?"pop":null,children:(0,s.jsx)(Ce.Z,{})})})}),(0,s.jsxs)($e,{anchorEl:m,open:Boolean(m),onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"ltr"===f?"right":"left"},transformOrigin:{vertical:"top",horizontal:"ltr"===f?"right":"left"},children:[(0,s.jsxs)(j.Z,{sx:{background:c.palette.background.default,height:"50px",py:2,px:2,alignItems:"center",display:"flex",boxShadow:"0px -1px 0px 0px ".concat("light"==c.palette.mode?"#ddd":"#000"," inset")},children:[(0,s.jsx)(z.Z,{placeholder:d.t("Filter"),onChange:function(e){return A(e.target.value.toLowerCase())},sx:{width:"100%",mx:1,mr:3,"& input":{background:c.palette.background.paper,height:"2rem",p:0,px:2,fontSize:"0.75rem"}}}),Z.map((function(e){return(0,s.jsx)(q.Z,{title:e.label,children:(0,s.jsx)(Q.Z,{size:"small",color:e.slug,onClick:function(){return function(e){var n=(0,a.Z)(_);_.includes(e)?n=n.filter((function(n){return n!==e})):n.push(e),k(n)}(e.slug)},checked:_.includes(e.slug),sx:{mr:2}})},e.slug)})),(0,s.jsx)(q.Z,{title:d.t("Clear logs"),placement:"bottom-end",children:(0,s.jsx)(R.Z,{onClick:function(){null!==t&&o(t.id),L()},sx:{width:"2rem",height:"2rem"},children:(0,s.jsx)(Ie.Z,{fontSize:"small"})})})]}),(0,s.jsx)(Ye,{children:Array.isArray(n)?n.filter((function(e){var n=_.includes(e.s);return n&&S.length&&(n=-1!=="".concat(e.m).toLowerCase().indexOf(S)),n})).map((function(e,n){return(0,s.jsx)(Ge,{sx:{cursor:"auto",px:4},children:(0,s.jsx)(Je,{log:e,filter:S,large:!0})},n)})):null})]})]}):null}var nn=t(82330),tn=t(26406),rn=t(35054),on=t(85443),an=t(8114),ln=t(30874),sn=t(57160),un=t(70382);function cn(e){var n=e.agent,t=e.stats,r=e.getHourglass,i=void 0===r?function(){}:r,o=(0,x.useState)(!1),a=o[0],l=o[1],u=(0,x.useState)(0),c=u[0],d=u[1],f=(0,x.useState)({}),h=f[0],p=f[1],m=(0,x.useState)([]),g=m[0],v=m[1];return(0,x.useEffect)((function(){if("string"===typeof(null===n||void 0===n?void 0:n.id)){var e=function(){var e=i(null===n||void 0===n?void 0:n.id);l(e.active),d(e.active?e.total+parseInt((new Date).getTime()/1e3,10)-e.start:e.total)};e();var t=window.setInterval((function(){return e()}),1e3);return function(){return window.clearInterval(t)}}}),[null===n||void 0===n?void 0:n.id]),(0,x.useEffect)((function(){if("object"===typeof t&&null!==t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=Object.keys(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;h[l]!==t[l]&&t[l]>0&&e.push(l)}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}p(t),v(e);var s=window.setTimeout((function(){return v([])}),750);return function(){return window.clearTimeout(s)}}}),[t]),n&&"object"===typeof t&&null!==t?(0,s.jsxs)(j.Z,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(j.Z,{sx:{display:"flex",alignItems:"center"},children:Object.keys(t).map((function(e){var n=!1,r=sn.Z;switch(e){case"reads":r=an.Z;break;case"likes":r=ln.Z;break;case"reposts":r=un.Z;break;case"comments":r=tn.Z;break;case"posts":r=nn.Z;break;default:n=!0}return(0,s.jsx)(q.Z,{title:e,placement:"left",children:(0,s.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",mx:2},children:[(0,s.jsx)(r,{fontSize:g.includes(e)?"medium":"small",color:g.includes(e)?"primary":"action",sx:{mr:2}}),n?(0,s.jsx)(y.Z,{variant:"caption",sx:{mr:2},color:g.includes(e)?"primary":"inherit",children:e}):null,(0,s.jsx)(y.Z,{variant:g.includes(e)?"body2":"caption",color:g.includes(e)?"primary":"disabled",children:t[e]})]})},e)}))}),(0,s.jsx)(q.Z,{title:"Running time",placement:"left",children:(0,s.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center"},children:[a?(0,s.jsx)(on.Z,{fontSize:"small",color:"primary"}):(0,s.jsx)(rn.Z,{fontSize:"small",color:"action"}),(0,s.jsx)(y.Z,{sx:{mx:2},variant:"caption",color:a?"primary":"disabled",children:(0,Ze.m)(c)})]})})]}):null}var dn=t(81743),fn=t(53535);function hn(e){var n,t=e.agent,i=e.focused,o=e.selectedId,a=e.onSelect,u=void 0===a?function(){}:a,c=e.onActive,d=void 0===c?function(){}:c,f=e.onLog,h=void 0===f?function(){}:f,p=e.onTick,m=void 0===p?function(){}:p,g=e.onTickInit,Z=void 0===g?function(){}:g,w=(0,v.Z)(),_=(0,I.$)().i18n,k=(0,x.useState)(!1),C=k[0],S=k[1],A=window.smf.getLabels(),L=window.smf.getSM(t.id,t.config);null===L||void 0===L||L.setOptions(null!==(n=t.options)&&void 0!==n?n:{}),null===L||void 0===L||L.onStateChange((function(e){d(t.id,!!e),S(!!e)})),null===L||void 0===L||L.onLog((function(e,n){return h(t.id,{m:e,s:n,t:parseInt((new Date).getTime()/1e3,10)})})),null===L||void 0===L||L.onTick((function(e,n){return m(t.id,e,n)})),(0,x.useEffect)((function(){C&&"function"===typeof Z&&Z(t.id,null===L||void 0===L?void 0:L.getCounters(),!1),"string"===typeof o&&o!==(null===t||void 0===t?void 0:t.id)||(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,window.sdk.ipc.main.setOnTop(C)];case 1:return[2,e.sent()]}}))}))()}),[C]),(0,x.useEffect)((function(){return(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,window.sdk.ipc.target.add(t.id,null===L||void 0===L?void 0:L.getHomeUrl())];case 1:return[2,e.sent()]}}))}))(),function(){(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return null===L||void 0===L||L.stop(),[4,window.sdk.ipc.target.remove(t.id)];case 1:return e.sent(),[2]}}))}))()}}),[t.id,t.config,t.options]),(0,x.useEffect)((function(){"function"===typeof Z&&Z(t.id,null===L||void 0===L?void 0:L.getCounters())}),[t.config]);var O,E=function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),[4,u(t.id)];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),"string"===typeof o?[3,2]:[4,u(t.id)];case 1:n.sent(),n.label=2;case 2:return C?null===L||void 0===L||L.stop():null===L||void 0===L||L.play(),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,s.jsxs)(j.Z,{sx:{width:"100%",height:"50px",position:"relative"},children:[(0,s.jsxs)(b.Z,{variant:"text",sx:{background:i&&o===t.id?"light"===w.palette.mode?w.palette.background.paper:"#000":"transparent",borderRadius:0,width:"100%",transition:"none",height:"50px",boxShadow:"0px -1px 0px 0px ".concat("light"==w.palette.mode?"#ddd":"#000"," inset, -1px 0px 0px 0px ").concat("light"==w.palette.mode?"#ddd":"#000"," inset"),position:"relative"},onClick:E,children:[(0,s.jsxs)(j.Z,{sx:{display:"flex",width:"100%",alignItems:"center",height:"100%",padding:"0 5px"},children:[(0,s.jsx)(q.Z,{title:null!==(O=A[t.config])&&void 0!==O?O:"",placement:"left-start",children:(0,s.jsx)(Ue,{config:t.config,sx:{mr:3},color:C?"primary":"action"})}),(0,s.jsx)(y.Z,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pr:"2.5rem"},variant:"caption",children:null===t||void 0===t?void 0:t.name})]}),(0,s.jsx)(j.Z,{sx:{position:"absolute",top:0,right:"1px",borderRadius:0,width:"5px",height:"49px",background:o===t.id?i?w.palette.primary.main:"#666":"transparent"}})]}),null!==(null===t||void 0===t?void 0:t.options)?(0,s.jsx)(q.Z,{title:C?_.t("Stop"):_.t("Play"),placement:"left-end",children:(0,s.jsx)(R.Z,{sx:{position:"absolute",right:"15px",top:"5px"},onClick:M,children:C?(0,s.jsx)(dn.Z,{color:"primary"}):(0,s.jsx)(fn.Z,{})})}):null]})}var pn=t(55061),xn=t(84541),mn=t(84165),gn=t(15064),vn=t(10991),yn=t(56267),bn=t(77381),Zn=function(){return(0,s.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(bn.Z,{width:24,height:24,source:96,sx:{ml:"9px"}}),(0,s.jsx)(y.Z,{variant:"body2",sx:{ml:3,userSelect:"none"},children:yn.Z.appName})]})},jn=(0,g.ZP)(j.Z)((function(e){e.theme;return{display:"flex",width:"100%",height:"calc(100vh - 100px)"}})),wn=(0,g.ZP)(j.Z)((function(e){var n=e.theme;return{display:"flex",width:"300px",height:"100%",boxShadow:"-1px 0px 0px 0px ".concat("light"==n.palette.mode?"#ddd":"#000"," inset")}})),_n=(0,g.ZP)(j.Z)((function(e){e.theme;return{display:"flex",width:"calc(100vw - 300px)",height:"100%"}})),kn=(0,g.ZP)(j.Z)((function(e){return{display:"flex",width:"100%",height:"50px",background:e.theme.palette.background.default}})),Cn=function(e){var n=e.children,t=e.onBlur,r=(0,x.useRef)(null);return(0,x.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&t()};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]),(0,s.jsx)("div",{ref:r,children:n})},Sn={_data:{},init:function(){var e={};try{var n;e=JSON.parse(null!==(n=localStorage.getItem("socialdetox-logs"))&&void 0!==n?n:"{}")}catch(t){}"object"===typeof e&&null!==e&&(Sn._data=e)},commit:function(){return localStorage.setItem("socialdetox-logs",JSON.stringify(Sn._data))},get:function(e){return Array.isArray(Sn._data[e])?Sn._data[e]:[]},set:function(e,n){return Array.isArray(n)||(n=[]),n.length>100&&(n=n.slice(0,100)),(n=n.map((function(e){return"".concat(null===e||void 0===e?void 0:e.m).length>512?(0,o.Z)((0,i.Z)({},e),{m:"".concat(e.m).substring(0,512)+"..."}):e}))).length?Sn._data[e]=n:delete Sn._data[e],n}},An={_data:{},init:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(n)){if("object"===typeof An._data[e]&&null!==An._data[e]||(An._data[e]={}),t){var r=!0,i=!1,o=void 0;try{for(var a,l=Object.keys(An._data[e])[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;n.includes(s)||delete An._data[e][s]}}catch(x){i=!0,o=x}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}var u=!0,c=!1,d=void 0;try{for(var f,h=n[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;"undefined"===typeof An._data[e][p]&&(An._data[e][p]=0)}}catch(x){c=!0,d=x}finally{try{u||null==h.return||h.return()}finally{if(c)throw d}}}},get:function(e){return"object"===typeof An._data[e]&&null!==An._data[e]?structuredClone(An._data[e]):{}},increment:function(e,n){return"object"===typeof An._data[e]&&null!==An._data[e]||(An._data[e]={}),"number"!==typeof An._data[e][n]&&(An._data[e][n]=0),An._data[e][n]++,An._data[e][n]}},In={_data:{},get:function(e){return"object"===typeof In._data[e]&&null!==In._data[e]?In._data[e]:{active:!1,total:0,start:0}},play:function(e){var n=In.get(e);n.active||(n.active=!0,n.start=parseInt((new Date).getTime()/1e3,10),In._data[e]=n)},pause:function(e){var n=In.get(e);n.active&&(n.active=!1,n.total+=parseInt((new Date).getTime()/1e3,10)-n.start,n.start=0,In._data[e]=n)},reset:function(e){return delete In._data[e],In.get(e)}},Ln=function(e){var n=e.i18n,t=(0,p.r)(),i=t.settings,o=t.saveSettings,u=(0,h.a)(),g=(0,v.Z)(),_=(0,m.useRouter)(),k=(0,x.useState)(!1),C=k[0],S=k[1],A=(0,x.useState)(!1),I=A[0],L=A[1],O=(0,x.useState)(!1),E=O[0],M=O[1],T=(0,x.useState)(!1),P=T[0],D=T[1],R=(0,x.useState)([]),N=R[0],z=R[1],W=(0,x.useState)({}),q=W[0],B=W[1],F=(0,x.useState)(null),H=F[0],Q=F[1],K=(0,x.useState)(!1),V=K[0],U=K[1],X=(0,x.useState)((function(){return Sn.get(H)})),$=X[0],G=X[1],J=(0,x.useState)(null),Y=J[0],ee=J[1],ne=function(){var e=(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return U(!1),[4,window.sdk.ipc.main.setOnTop(!0)];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,ne()];case 1:return e.sent(),[4,window.sdk.ipc.target.removeAll()];case 2:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ie=H&&Array.isArray(N)?N.reduce((function(e,n){return n.id===H?n:e}),null):null,oe=function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return U(!0),Q(e),G(Sn.get(e)),[4,window.sdk.ipc.target.select(e)];case 1:return n.sent(),[4,window.sdk.ipc.main.setOnTop(!!q[e])];case 2:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,r.Z)((function(e,n){var t;return(0,l.__generator)(this,(function(r){return(t=structuredClone(q))[e]=!!n,B(t),n?In.play(e):In.pause(e),n||Sn.commit(),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),se=function(){var e=(0,r.Z)((function(e,n){var t;return(0,l.__generator)(this,(function(r){return(t=structuredClone(Sn.get(e))).unshift(n),t=Sn.set(e,t),H===e&&G(t),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){return Sn.set(e,[]),Sn.commit(),H===e&&G([]),[2]}))}));return function(n){return e.apply(this,arguments)}}(),fe=function(){var e=(0,r.Z)((function(e,n){var t,r=arguments;return(0,l.__generator)(this,(function(i){return t=r.length>2&&void 0!==r[2]?r[2]:[],"string"===typeof n&&n.length&&An.increment(e,n),H===e&&Array.isArray(t)&&4===t.length&&ee(t),[2]}))}));return function(n,t){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){var e=null;return null!==Y&&(e=window.setTimeout((function(){return ee(null)}),2500)),function(){return null!==e&&window.clearTimeout(e)}}),[Y]);var he=function(){var e=(0,r.Z)((function(e,n){var t,r,i;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,window.sdk.ipc.device.getSerialNumber()];case 1:return t=o.sent(),[4,window.sdk.ipc.device.getName()];case 2:return r=o.sent(),[4,d.Z.post("agents",{config:n,name:e,machineId:t,machineName:r})];case 3:return i=o.sent(),z((0,a.Z)(N).concat([i.data])),Q(i.data.id),[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,r.Z)((function(e,n){var t,r,i,o;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=n.config,r=n.name,i=n.options,[4,d.Z.post("agents/".concat(e),{config:t,name:r,options:i})];case 1:return o=a.sent(),null!==ie&&ie.config!==n.config&&ye(n.config),z(structuredClone(N).map((function(n){return n.id===e?o.data:n}))),L(!1),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),xe=function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,d.Z.delete("agents/".concat(e))];case 1:return n.sent(),z(structuredClone(N).filter((function(n){return n.id!==e}))),(null===ie||void 0===ie?void 0:ie.id)===e&&Q(null),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),me=function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){return V||"string"!==typeof H||q[H]||(e.stopPropagation(),oe(H)),[2]}))}));return function(n){return e.apply(this,arguments)}}(),ve=function(){var e=(0,r.Z)((function(){return(0,l.__generator)(this,(function(e){return[2]}))}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,r.Z)((function(e){var n;return(0,l.__generator)(this,(function(t){return n=structuredClone(N).map((function(n){return n.id===H&&(n.config=e),n})),z(n),window.setTimeout((0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,window.sdk.ipc.target.select(H)];case 1:return e.sent(),[2]}}))})),250),[2]}))}));return function(n){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){if(u.user){Sn.init(),window.sdk.ibc.handle("smInit",(function(){return D(!0)})),window.sdk.ibc.handle("testing",(function(e){return console.log(e)}));var e=document.createElement("script");return e.type="text/javascript",(0,r.Z)((function(){var n,t;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,d.Z.get("agents")];case 1:return n=i.sent(),Array.isArray(n.data)&&z(n.data),n.data.length&&window.setTimeout((0,r.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,oe(n.data[0].id)];case 1:return e.sent(),[2]}}))})),250),[3,3];case 2:return i.sent(),[3,3];case 3:return i.trys.push([3,5,,6]),[4,d.Z.get("account/smf")];case 4:return t=i.sent(),e.text=t.data,document.body.appendChild(e),[3,6];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))(),window.addEventListener("beforeunload",te),_.events.on("routeChangeStart",te),function(){window.removeEventListener("beforeunload",te),_.events.off("routeChangeStart",te);try{document.body.removeChild(e)}catch(n){}}}}),[u.user]);var be={border:"light"==g.palette.mode?"#ddd":"#000",agent:"light"==g.palette.mode?"#fff":"#000"};return null===u.user?(0,s.jsx)(vn.Z,{src:"/img/pages/page-login-".concat(g.palette.mode,".png"),children:(0,s.jsx)(pn.Z,{})}):(0,s.jsxs)(j.Z,{sx:{display:"flex",width:"100vw",height:"100vh",flexDirection:"column"},children:[(0,s.jsx)(c(),{id:"a832ee7090d48c19",children:"body{background:transparent}"}),(0,s.jsxs)(kn,{sx:{boxShadow:"0px -1px 0px 0px ".concat(be.border," inset")},children:[(0,s.jsx)(wn,{sx:{justifyContent:"space-between",alignItems:"center",px:2},children:(0,s.jsx)(Zn,{})}),(0,s.jsx)(_n,{children:(0,s.jsx)(en,{logs:$,agent:ie,hashActive:q,onClear:de,onSettings:function(){return L(!0)}})})]}),(0,s.jsxs)(jn,{children:[(0,s.jsx)(wn,{sx:{background:g.palette.background.default,flexDirection:"column"},children:P?(0,s.jsxs)(j.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(Cn,{onBlur:ne,children:N.map((function(e){return(0,s.jsx)(hn,{agent:e,focused:V,selectedId:H,onSelect:oe,onActive:ae,onLog:se,onTick:fe,onTickInit:An.init},e.id)}))}),N.length<f.agentsCount?(0,s.jsx)(b.Z,{onClick:function(){return S(!0)},sx:{borderRadius:0,px:4,width:"100%",transition:"none",justifyContent:"start",height:"50px",boxShadow:"0px -1px 0px 0px ".concat("light"==g.palette.mode?"#ddd":"#000"," inset, -1px 0px 0px 0px ").concat("light"==g.palette.mode?"#ddd":"#000"," inset")},children:(0,s.jsxs)(j.Z,{sx:{display:"flex",width:"100%",textAlign:"left",alignItems:"center",py:"14px",pl:"25px",ml:"-25px",borderRadius:"0.25rem"},className:N.length||C?null:"pop",children:[(0,s.jsx)(w.Z,{color:"disabled",sx:{mr:3}}),(0,s.jsx)(y.Z,{variant:"caption",children:n.t("Add AI Agent")})]})}):null]}),(0,s.jsx)(j.Z,{sx:{p:2}})]}):(0,s.jsx)(j.Z,{children:(0,s.jsx)(re.Z,{})})}),(0,s.jsx)(_n,{sx:{background:H?"transparent":be.agent},onMouseEnter:me,children:(0,s.jsx)(ge,{agent:ie,area:Y,hashActive:q})})]}),(0,s.jsxs)(kn,{sx:{boxShadow:"0px 1px 0px 0px ".concat(be.border," inset")},children:[(0,s.jsxs)(wn,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[(0,s.jsx)(b.Z,{onClick:ve,sx:{borderRadius:0,px:2,width:"100%",justifyContent:"start"},children:(0,s.jsx)(Z.Z,{"aria-disabled":"true",overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,s.jsx)(xn.Z,{useLink:!1,user:u.user,sx:{width:35,height:35}})})}),(0,s.jsx)(j.Z,{sx:{position:"absolute",right:3},children:(0,s.jsx)(mn.Z,{settings:i,saveSettings:o,tooltipPlacement:"left"})})]}),(0,s.jsx)(_n,{sx:{alignItems:"center",px:2},children:(0,s.jsx)(cn,{agent:ie,stats:An.get(H),getHourglass:In.get})})]}),C&&N.length<f.agentsCount?(0,s.jsx)(ue,{isOpen:!0,onCreate:he,onClose:function(){return S(!1)}}):null,I?(0,s.jsx)(le,{isOpen:!0,agent:ie,onUpdate:pe,onDelete:function(){return M(!0)},onClose:function(){return L(!1)}}):null,E?(0,s.jsx)(ce,{isOpen:!0,agent:ie,onDelete:xe,onClose:function(){return M(!1)}}):null]})};Ln.getLayout=function(e){return(0,s.jsx)(gn.Z,{children:e})},Ln.guestGuard=!0,Ln.authGuard=!1;var On=Ln}},function(e){e.O(0,[587,60,308,169,774,888,179],(function(){return n=75557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);